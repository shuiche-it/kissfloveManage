webpackJsonp([2,0],[function(t,e,o){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}var r=o(84),i=s(r),n=o(82),a=s(n),c=o(83),u=s(c),d=o(75),l=s(d),p=o(81),v=s(p),f=o(79),h=s(f),m=o(78),_=s(m),x=o(76),b=s(x),g=o(77),w=s(g);i["default"].use(a["default"]),i["default"].use(u["default"]),i["default"].http.options.credentials=!0;var k=new u["default"];k.map({"/":{component:_["default"]},"/register":{component:v["default"]},"/login":{component:h["default"]},"/home":{component:_["default"]},"/addbook":{component:b["default"]},"/cart":{component:w["default"]}}),k.start(l["default"],"#app")},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="http://192.168.0.101:8888";e.registerApi=o+"/register",e.loginApi=o+"/login",e.bookslistApi=o+"/bookslist",e.logoutApi=o+"/logout",e.cartApi=o+"/cart"},,,,,,,,,,,,,,,,,,,,,,,,function(t,e,o){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=o(1),i=o(80),n=s(i);e["default"]={methods:{logout:function(){var t=this,e=this.$resource(r.logoutApi);e.get().then(function(e){window.alert(e.data),t.$router.go("/login")})}},components:{Message:n["default"]}}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o(1);e["default"]={data:function(){return{msg:"添加书籍",book:{}}},methods:{addBook:function(){var t=this;if(!this.book.name||!this.book.description||!this.book.price)return void window.alert("请输入正确的书籍信息！");var e=this.$resource(s.bookslistApi);e.save(s.bookslistApi,this.book).then(function(e){window.alert("添加书籍成功"),t.book=null},function(e){window.alert(e.data),t.$router.go({path:"/login"})})}}}},function(t,e,o){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=o(31),i=s(r),n=o(1);e["default"]={data:function(){return{msg:"购物车",carts:[],totalPrice:0,selectItems:[],selectAll:!1}},ready:function(){var t=this,e=this.$resource(n.cartApi);e.get().then(function(e){t.carts=e.data},function(e){window.alert(e.data),t.$router.go("/login")}),this.$watch("selectItems",function(t){this.totalPrice=0;var e=this;t.forEach(function(t){var o=parseInt(t);e.totalPrice+=e.carts[o].price*e.carts[o].number}),this.selectItems.length<this.carts.length?this.selectAll=!1:this.selectItems.length===this.carts.length&&(this.selectAll=!0)}),this.$watch("selectAll",function(t){if(t===!0){this.totalPrice=0,this.selectItems=[];var e=this;this.carts.forEach(function(t,o){e.selectItems.push(o.toString())})}else this.selectItems.length===this.carts.length?this.selectItems=[]:this.selectItems=this.selectItems.concat()})},methods:{payMoney:function(){var t=this,e=this.$resource(n.cartApi),o=[],s=!0,r=!1,a=void 0;try{for(var c,u=(0,i["default"])(this.selectItems);!(s=(c=u.next()).done);s=!0){var d=c.value,l=parseInt(d);o.push({bookname:this.carts[l].bookname,number:this.carts[l].number})}}catch(p){r=!0,a=p}finally{try{!s&&u["return"]&&u["return"]()}finally{if(r)throw a}}e.save(n.cartApi,{postData:o}).then(function(e){window.alert("结算成功："+t.totalPrice),t.$router.go({path:"/home"})})},addNum:function(t){this.carts[t].number=parseInt(this.carts[t].number)+1,this.selectItems=this.selectItems.concat()},reduceNum:function(t){var e=parseInt(this.carts[t].number);0!==e&&(this.carts[t].number=e-1,this.selectItems=this.selectItems.concat())}}}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o(1);e["default"]={data:function(){return{msg:"首页",books:[]}},ready:function(){var t=this,e=this.$resource(s.bookslistApi);e.get().then(function(e){t.books=e.data},function(e){window.alert(e.data),t.$router.go({path:"/login"})})},methods:{addToCart:function(t,e){var o=this.$resource(s.cartApi),r={bookname:t,price:e};o.save(s.cartApi,r).then(function(t){window.alert(t.data)},function(t){window.alert(t.data)})}}}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o(1);e["default"]={data:function(){return{msg:"登陆",user:{}}},methods:{login:function(){var t=this;if(!this.user.username)return void window.alert("请输入用户名！");if(!this.user.password)return void window.alert("请输入密码！");var e=this.$resource(s.loginApi);e.save(s.loginApi,this.user).then(function(e){window.alert(e.data),t.$router.go({path:"/home"})},function(t){window.alert(t.data)})}}}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o(1);e["default"]={data:function(){return{msg:"注册",user:{}}},methods:{register:function(){var t=this;if(!this.user.username)return void window.alert("请输入用户名！");if(!this.user.password||!this.user.passwordAgain)return void window.alert("请输入密码！");if(this.user.password!==this.user.passwordAgain)return void window.alert("两次密码输入不同！");var e={username:this.user.username,password:this.user.password},o=this.$resource(s.registerApi);o.save(s.registerApi,e).then(function(e){window.alert("注册成功"),t.$router.go({path:"/login"})},function(t){window.alert(t.data)})}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){t.exports=" <div> <a v-link=\"{path: '/register'}\">注册</a> <a v-link=\"{path: '/login'}\">登陆</a> <a v-link=\"{path: '/home'}\">首页</a> <a v-link=\"{path: '/addbook'}\">添加书籍</a> <a v-link=\"{path: '/cart'}\">购物车</a> <a @click=logout>退出</a> <router-view></router-view> <message> <p slot=msg>这里是信息提示！</p> </message> </div> "},function(t,e){t.exports=' <div class=cart _v-14d19310=""> <h1 _v-14d19310="">{{ msg }}</h1> <table _v-14d19310=""> <tbody _v-14d19310=""><tr _v-14d19310=""> <th _v-14d19310=""><input type=checkbox id=selectAll v-model=selectAll _v-14d19310=""><label for=selectAll _v-14d19310=""> 全选</label></th> <th _v-14d19310="">单价</th> <th _v-14d19310="">数量</th> <th _v-14d19310="">操作</th> </tr> <tr v-for="cart in carts" _v-14d19310=""> <td _v-14d19310=""> <input type=checkbox id=selectOne value={{$index}} v-model=selectItems _v-14d19310=""> <label for=selectOne _v-14d19310="">{{cart.bookname}}</label> </td> <td _v-14d19310="">{{cart.price}}</td> <td _v-14d19310=""> <input type=button class=addNum value=+ @click=addNum($index) _v-14d19310=""> <input type=text v-model=cart.number class=booknum readonly="" _v-14d19310=""> <input type=button class=reduceNum value=- @click=reduceNum($index) _v-14d19310=""> </td> <td _v-14d19310="">删除</td> </tr> </tbody></table> <p class=totalPrice _v-14d19310="">您需要支付: {{totalPrice}}</p> <input type=button value=去结算 @click=payMoney _v-14d19310=""> </div> '},function(t,e){t.exports=' <div class=message _v-34dff342=""> <slot name=msg _v-34dff342=""><slot _v-34dff342=""> </slot></slot></div> '},function(t,e){t.exports=' <div class=login _v-4cc344c1=""> <h1 _v-4cc344c1="">{{ msg }}</h1> <div _v-4cc344c1=""> <input type=text placeholder=用户名 v-model=user.username _v-4cc344c1=""> </div> <div _v-4cc344c1=""> <input type=password placeholder=密码 v-model=user.password _v-4cc344c1=""> </div> <input type=button @click=login value=登陆 _v-4cc344c1=""> </div> '},function(t,e){t.exports=' <div class=home _v-4f8e8e92=""> <h1 _v-4f8e8e92="">{{ msg }}</h1> <div v-for="book in books" class=book _v-4f8e8e92=""> <p _v-4f8e8e92="">书名：{{book.name}}</p> <p _v-4f8e8e92="">描述：{{book.description}}</p> <p _v-4f8e8e92="">价格：{{book.price}}</p> <input type=button value=加入购物车 @click="addToCart(book.name, book.price)" _v-4f8e8e92=""> </div> </div> '},function(t,e){t.exports=' <div class=addBook _v-5704ac02=""> <h1 _v-5704ac02="">{{ msg }}</h1> <div _v-5704ac02=""> <input type=text placeholder=书籍名称 v-model=book.name _v-5704ac02=""> </div> <div _v-5704ac02=""> <textarea cols=30 rows=3 placeholder=简单描述 v-model=book.description _v-5704ac02=""></textarea> </div> <div _v-5704ac02=""> <input type=text placeholder=价格：元 v-model=book.price _v-5704ac02=""> </div> <input type=button @click=addBook value=添加 _v-5704ac02=""> </div> '},function(t,e){t.exports=' <div class=register _v-9421df0a=""> <h1 _v-9421df0a="">{{ msg }}</h1> <div _v-9421df0a=""> <input type=text placeholder=用户名 v-model=user.username _v-9421df0a=""> </div> <div _v-9421df0a=""> <input type=password placeholder=密码 v-model=user.password _v-9421df0a=""> </div> <div _v-9421df0a=""> <input type=password placeholder=确认密码 v-model=user.passwordAgain _v-9421df0a=""> </div> <input type=button @click=register value=注册 _v-9421df0a=""> </div> '},function(t,e,o){var s,r;o(61),s=o(25),r=o(68),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=r)},function(t,e,o){var s,r;o(66),s=o(26),r=o(73),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=r)},function(t,e,o){var s,r;o(62),s=o(27),r=o(69),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=r)},function(t,e,o){var s,r;o(65),s=o(28),r=o(72),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=r)},function(t,e,o){var s,r;o(64),s=o(29),r=o(71),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=r)},function(t,e,o){var s,r;o(63),r=o(70),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=r)},function(t,e,o){var s,r;o(67),s=o(30),r=o(74),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=r)}]);
//# sourceMappingURL=app.9201bb46031f58fc296f.js.map